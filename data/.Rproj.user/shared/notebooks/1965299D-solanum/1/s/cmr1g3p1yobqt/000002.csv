"0","# get occurences of species in biome; if > 12.5% found in biome, species is "
"0","# considered to be found in that biome"
"0","(sol %>% "
"0","  "
"0","  # remove geometry column and convert to tibble"
"0","  st_set_geometry(NULL) %>% "
"0","  as_tibble() %>% "
"0","  "
"0","  # count the number of each species found in each biome"
"0","  group_by(clade, biome) %>% "
"0","  count(species) %>%"
"0","  ungroup() %>% "
"0","  arrange(clade, species, biome) %>% "
"0","  "
"0","  # turn counts into percentages of species occurence in each biome"
"0","  group_by(species) %>% "
"0","  mutate(count = sum(n),"
"0","         n = round(n / sum(n), digits = 3)) %>% "
"0","  spread(biome, n) %>% "
"0","  replace(is.na(.), 0) %>% "
"0","  rename(""humid"" = ""1"", "
"0","         ""sub-humid"" = ""2"", "
"0","         ""montane"" = ""3"", "
"0","         ""dry"" = ""4"", "
"0","         ""sub-arid"" = ""5""))"
