"0","library(knitr) # for r markdown control"
"0","library(kableExtra) # r markdown extras"
"2","
Attaching package: ‘kableExtra’

"
"2","The following object is masked from ‘package:dplyr’:

    group_rows

"
"0","# a prefix nulling hook."
"0",""
"0","# make sure to keep the default for normal processing"
"0","default_output_hook <- knitr::knit_hooks$get('output')"
"0",""
"0","# output hooks handle normal R console output"
"0","knitr::knit_hooks$set(output = function(x, options) {"
"0","  "
"0","  # grab 'comment' setting"
"0","  comment <- knitr::opts_current$get('comment')"
"0","  "
"0","  # if NA, replace comment with ''"
"0","  if(is.na(comment)) comment <- ''"
"0","  "
"0","  # regex to logically detect '\\s*[#]' string in x (the output string)"
"0","  can_null <- grepl(paste0(comment, '\\s*\\[\\d+\\]'), "
"0","                     x, perl = TRUE)"
"0","  "
"0","  # check if 'null_prefix' chunk option is set to TRUE"
"0","  do_null <- isTRUE(knitr::opts_current$get('null_prefix'))"
"0","  "
"0","  if(can_null && do_null) {"
"0","    "
"0","    # R print output aligns at the right brace, gather this value - 1"
"0","    align_index <- regexpr('\\]', x)[1] - 1"
"0","  "
"0","    # start of string, any character matching align_index times followed by ]"
"0","    re <- paste0('^.{', align_index, '}\\]\\s?')"
"0","    rep <- comment"
"0","    x <- gsub(re, rep, x) # replace re with empty string in x"
"0","    "
"0","    # new line, any character matching align_index times followed by ]"
"0","    re <- paste0('\\\n.{', align_index, '}\\]\\s?')"
"0","    rep <- paste0('\n', comment) # new line followed by comment"
"0","    x <- gsub(re, rep, x) # replace re with new line followed by comment"
"0","  }"
"0","  "
"0","  default_output_hook(x, options)"
"0",""
"0","})"
"0",""
"0","# set knitr defaults"
"0","knitr::opts_chunk$set(cache = TRUE,"
"0","                      cache.comments = FALSE,"
"0","                      comment = NA, # remove ## from output"
"0","                      message = FALSE, "
"0","                      warning = FALSE, "
"0","                      error = FALSE,"
"0","                      background = '#B9B9B9', # for pdf only"
"0","                      fig.align = 'center',"
"0","                      null_prefix = TRUE) # remove [1] from output"
